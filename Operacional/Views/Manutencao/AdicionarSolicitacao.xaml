<telerik:RadWindow x:Class="Operacional.Views.Manutencao.AdicionarSolicitacao"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
             xmlns:local="clr-namespace:Operacional.Views.Manutencao"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             Header="Solicitação Manutenção" 
             WindowStartupLocation="CenterOwner"
             Loaded="RadWindow_Loaded">
    
    <Grid>
        <telerik:RadGridView
        AutoGenerateColumns="False"
        Margin="2"
        SelectionUnit="Cell"
        ShowGroupPanel="False"
        NewRowPosition="Bottom"
        GroupRenderMode="Flat"
        ItemsSource="{Binding Solicitacoes}"
        RowValidated="ManutFuncaoRowValidated"
        AddingNewDataItem="ManutFuncaoRow_AddingNewDataItem">
            <telerik:RadGridView.Columns>
                <telerik:GridViewDataColumn Header="#" DataMemberBinding="{Binding Id}" IsReadOnly="True"/>
                <telerik:GridViewComboBoxColumn
                    Header="TIPO"
                    Width="100"
                    DataMemberBinding="{Binding Tipo}"
                    ItemsSource="{Binding Tipos}"/>
                <telerik:GridViewDataColumn Header="ORDEM" DataMemberBinding="{Binding Item}"/>
                <telerik:GridViewDataColumn Width="*" Header="SOLICITAÇÃO" DataMemberBinding="{Binding Solicitacao}" TextWrapping="Wrap"/>
            </telerik:RadGridView.Columns>
            <telerik:RadGridView.ChildTableDefinitions>
                <telerik:GridViewTableDefinition>
                    <telerik:GridViewTableDefinition.Relation>
                        <telerik:PropertyRelation ParentPropertyName="Imagens" />
                    </telerik:GridViewTableDefinition.Relation>
                </telerik:GridViewTableDefinition>
            </telerik:RadGridView.ChildTableDefinitions>
            <telerik:RadGridView.HierarchyChildTemplate>
                <DataTemplate>
                    <telerik:RadGridView x:Name="gvImgSolicitacao"
                        ItemsSource="{Binding Imagens}"
                        AutoGenerateColumns="False"
                        ShowGroupPanel="False"
                        NewRowPosition="Bottom"
                        GroupRenderMode="Flat"
                        RowValidated="RadGridViewFilho_RowValidating" IsReadOnly="True">
                        <telerik:RadContextMenu.ContextMenu>
                            <telerik:RadContextMenu>
                                <telerik:RadMenuItem Header="Adicionar Imagem" Click="OnAddImageClick" />
                            </telerik:RadContextMenu>
                        </telerik:RadContextMenu.ContextMenu>
                        <telerik:RadGridView.Columns>
                            <telerik:GridViewDataColumn Header="#" DataMemberBinding="{Binding Id}" IsReadOnly="True"/>
                            <telerik:GridViewHyperlinkColumn Width="475" Header="CAMINHO IMAGEM" DataMemberBinding="{Binding CaminhoImagem}" />
                        </telerik:RadGridView.Columns>
                    </telerik:RadGridView>
                </DataTemplate>
            </telerik:RadGridView.HierarchyChildTemplate>
        </telerik:RadGridView>


    </Grid>
    
</telerik:RadWindow>
